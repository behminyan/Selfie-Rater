webpackJsonp([2],{DG0N:function(){},Jlkg:function(a,b,c){(function(a){function b(){var a=110,c=80;j.drawImage(g,a,0,e.width+a-20,e.height+c,0,0,e.width,e.height),j.drawImage(g,a,0,e.width+a-20,e.height+c,0,0,e.width,e.height),setTimeout(b,1e3/24)}var c=a(".snap"),d=a(".flash"),e=a(".canvas")[0],f=a(".download"),g=a("#myVideo")[0],h=a(".redo"),i=a(".download"),j=e.getContext("2d");c.on("click",function(){d.addClass("click"),setTimeout(function(){d.removeClass("click")},200),c.addClass("inactive"),h.addClass("active"),i.addClass("active"),console.log(g.width,g.height,e.width,e.height),f.attr("href",e.toDataURL("image/png"))}),h.on("click",function(){j.clearRect(0,0,e.width,e.height),c.removeClass("inactive"),h.removeClass("active"),i.removeClass("active")}),b()}).call(b,c("7t+N"))},vGYV:function(a,b,c){(function(a,b){c("DG0N"),c("Jlkg"),c("OWGu");a.ObjectTracker.prototype.track=function(b,c,d){var e=this,f=this.getClassifiers();if(!f)throw new Error("Object classifier not specified, try `new tracking.ObjectTracker(\"face\")`.");var g=[];f.forEach(function(f){g=g.concat(a.ViolaJones.detect(b,c,d,e.getInitialScale(),e.getScaleFactor(),e.getStepSize(),e.getEdgesDensity(),f))}),this.emit("track",{data:g,pixels:b,width:c,height:d})};var d=new a.ObjectTracker("face");d.setInitialScale(4),d.setStepSize(2),d.setEdgesDensity(0.1);var e=document.getElementById("face"),f=e.getContext("2d"),g=0;d.on("track",function(a){f.clearRect(0,0,e.width,e.height),0===a.data.length?Date.now()-g>3e3&&(document.getElementById("ratingNum").innerHTML="--"):(g=Date.now(),a.data.forEach(function(c){b.ajax({url:"http://18.220.71.37/rateme",type:"POST",data:JSON.stringify({pixels:Array.from(a.pixels),width:a.width,height:a.height}),contentType:"application/json",dataType:"json"}).done(function(a){document.getElementById("ratingNum").innerHTML=a.rating.toFixed(2)}),f.strokeStyle="#a64ceb",f.strokeRect(c.x,c.y,c.width,c.height),f.font="11px Helvetica",f.fillStyle="#fff",f.fillText("x: "+c.x+"px",c.x+c.width+5,c.y+11),f.fillText("y: "+c.y+"px",c.x+c.width+5,c.y+22)}))}),a.track("#myVideo",d,{camera:!0})}).call(b,c("KPBs"),c("7t+N"))}},["vGYV"]);
//# sourceMappingURL=main.a479cc77.js.map